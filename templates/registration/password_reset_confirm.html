{% extends "base.html" %}
{% block title %}Set new password - PETio{% endblock %}
{% block content %}
<div class="container mx-auto max-w-md py-10">
  <h1 class="text-2xl font-bold mb-4">Set a new password</h1>
  {% if validlink %}
    <form method="post" class="space-y-4">
      {% csrf_token %}
      {{ form.non_field_errors }}
      <div>
        <label class="block mb-1">New password</label>
        {{ form.new_password1 }}
        {{ form.new_password1.errors }}
      </div>
      <div>
        <label class="block mb-1">Confirm new password</label>
        {{ form.new_password2 }}
        {{ form.new_password2.errors }}
      </div>
      <button type="submit" class="btn btn-primary w-full">Change password</button>
    </form>
  {% else %}
    <p>The password reset link is invalid or has expired. Please request a new one.</p>
    <a href="{% url 'password_reset' %}" class="btn btn-ghost mt-4">Request new reset</a>
  {% endif %}
</div>
{% endblock %}